# Альтернативный старт-гайд

## Содержание
+ [Скачивание/установка игры](#DownloadInstall)
+ [Дополнительные программы](#SkyrimTools)
+ [Подготовка игры](#Preparation)
+ [Запуск игры](#StartGame)
+ [Полезные советы](#GoodTips)

## <a name="DownloadInstall"></a> Скачивание/установка игры

1) Для начала убедись, что вычистил все следы предыдущей установки (если она была). Проверь папки Стима или куда ты ещё устанавливал Скайрим, проверь "Документы\My Games". Проверь установленные программы через Панель Управления или Reg Organizer или любую подобную софтину, вдруг он висит в списке.

2) Теперь выбор версии игры.
    + Если ставишь пиратку, убедись в её "нормальности". Версия должна быть 1.9.32.0.8, там должно быть 4 DLC (Dawnguard, Hearthfire, Dragonborn и High Resolution Texture Pack) и не должно быть больше ничего. Никаких предустановленных модов, фиксов и подобного. Некоторые аноны рекомендуют репак от "R.G. Механики".
    + Если ставишь Стим-версию, то просто не промахнись с языком (ПКМ ➔ Свойства ➔ Язык). Учти, что ссылки данной шапки почти всегда ведут на англоязычные ресурсы, поэтому при выборе русского языка поиском локализованных модов ты должен будешь заниматься самостоятельно.

3) Если ставишь игру в Program Files, или у тебя стим-версия, могут возникнуть проблемы с правами записи. Чтобы этого избежать, не помешает открыть свойства папки с игрой, на вкладке Безопасность нажать кнопку Редактировать, и поставить галочку Полный доступ для группы Пользователи.

## <a name="SkyrimTools"></a> Дополнительные программы

1) Первое, что я хотел бы сказать: не рекомендую скачивать эти программы с русских сайтов типа GamerMods, ModGames и подобных. Кто знает, что они там навертели в настройках? Такое бывает довольно часто, васяны любят впаривать людям своевольно настроенный софт.

2) Этот софт можно спокойно качать, пока игра устанавливается, только не запускай. От себя я рекомендую Portable-версии, которые легче запихнуть в любую папку. Так и сделай: создай папку "E:\Games\Skyrim Tools", куда будешь кидать всё для работы с игрой.

3) Собственно, необходимые программы.
    + **Mod Organizer**. Это менеджер модов, который является лучшим решением для допиливания игры. Отличается отлично сделанной виртуализацией, которая позволяет устанавливать моды в отдельные папки, а значит и удалять их без следов. Спасает в случае возникновения проблем в игре, предоставляя возможность отключить проблемный мод без необходимости переустановки всех остальных модов, а то и игры. [Ссылка на скачивание (Nexus)](http://www.nexusmods.com/skyrim/mods/1334/?) - выбирай версию 1.3.11 не Installer.
    + **BethINI**. Программа для настройки инишников - файлов конфигурации, весьма полезная вещь. [Ссылка на скачивание (Nexus)](http://www.nexusmods.com/skyrim/mods/69787/?).
    + **LOOT**. Это сортировщик плагинов и не только. Может указать тебе на плагины, в которых есть ошибки - так называемые "грязные записи". [Ссылка на скачивание (Github)](https://github.com/loot/loot/releases/latest) - выбирай не Installer.
    + **TES5Edit**. Это программа для простого редактирования плагинов и относительно автоматической очистки их от "грязных записей", которые вам покажет LOOT. [Ссылка на скачивание (Nexus)](http://www.nexusmods.com/skyrim/mods/25859/?).
    + **Wrye Bash**. Ещё один менеджер модов, который может пригодиться тебе не для управления модами, а для создания Башед-патча. Эта штука делает несколько полезных вещей, в том числе объединяет уровневые листы разных плагинов. [Ссылка на скачивание (Nexus)](http://www.nexusmods.com/skyrim/mods/1840/?) - выбирай не Installer.

4) Эти программы должны лежать по своим папкам в "E:\Games\Skyrim Tools". Типа "E:\Games\Skyrim Tools\BethINI", "E:\Games\Skyrim Tools\LOOT" и т.д. И пока Скайрим у тебя не установлен, не запускай их.

**Внимание**: следование этому гайду не освобождает от необходимости изучения инструкций к программам.

## <a name="Preparation"></a> Подготовка игры

1) Запусти Лаунчер игры. Если ты не создал ярлык на Рабочем столе, иди по адресу "E:\Steam Library\steamapps\common\Skyrim" и запусти SkyrimLauncher.exe. Дождись, пока он определит настройки графики для твоего ПК, а затем выйди из него без каких-либо других действий.

2) Теперь по адресу "Документы\My Games" должна оказаться папка Skyrim, а в ней 2 файла: Skyrim.ini и SkyrimPrefs.ini. Если они есть, то пока что всё идёт нормально.

3) Теперь запусти Mod Organizer, обязательно от имени администратора. Выбери игру Skyrim и укажи ассоциировать nxm-ссылки Нексуса с МО. Далее тебе будет нужно пройти небольшую обучалку. Пройди её, она очень важна! И по возможности запомни. МО - это мощный инструмент, который требует некоторых навыков в обращении с ним.

4) Теперь ты должен увидеть перед собой примерно такую картину.

    ![](../00_Resources/Alternative_Guide/001.png)

    Честно говоря, это никуда не годится. Открой окно управления профилями и скопируй профиль Default, назови новый Main или как-нибудь похоже. По желанию можешь поставить галку Local Savegames.

    ![](../00_Resources/Alternative_Guide/002.png)

    Теперь выбери свой профиль Main и открой редактор INI, встроенный в МО (Tools/INI Editor). Если там есть инишники (копии из Документов), то пока что всё идёт нормально. Но знай, в таком виде они далеки от нормальных, их нужно немного изменить. Закрой МО.

5) Теперь запусти BethINI для настройки этих инишников.
    + Выбери игру Skyrim и иди на вкладку Setup. Проверь, чтобы там были правильно заполнены строки Game, Game Path и Mod Organizer. При правильно указанном пути к МО в строке INI Path можно будет выбрать профиль МО, для которого ты будешь настраивать инишники. Выбери Main.
    + Далее перейди обратно на вкладку Basic, кликни BethINI Presets и выбери нужный пресет, затем поставь галку напротив Recommended Tweaks. Алсо, если ты в будущем планируешь использовать графические функции ENB, то отметь также ENB Mode (если же кроме ENBoost тебе ничего не нужно, не трогай эту опцию).
    + По желанию можешь изменить галки справа вверху - там оконный режим, FXAA (сглаживание), работа в фоновом режиме и вертикальная синхронизация. Наконец, кликни Save and Exit.
    + В дальнейшем тебе желательно донастроить эти инишники, следуя рекомендациям S.T.E.P. Вот [Skyrim.ini](http://wiki.step-project.com/Guide:Skyrim_INI), а вот [SkyrimPrefs.ini](http://wiki.step-project.com/Guide:SkyrimPrefs_INI), все изменения вноси через INI-редактор МО, у него для каждого профиля свой набор файлов.

6) Теперь тебе надо расставить моды-плагины как следует. Запусти МО и сделай вот так.

    ![](../00_Resources/Alternative_Guide/003.png)

7) Теперь тебе надо добавить используемые тобой программы в список МО. Это нужно для того, чтобы они могли видеть моды, установленные через него. Нажми на 2 шестерёнки слева вверху и добавь LOOT и TES5Edit.

    > Вообще, все программы, которые обращаются к модам в процессе работы, должны запускаться через МО. И небольшой совет на будущее: если тебе нужно добавить в МО программу, которая была установлена через него (это может быть FNIS или любой SkyProc-патчер), проще это сделать через вкладку Data прямо в МО.

    ![](../00_Resources/Alternative_Guide/004.png)

    > Как ты понимаешь, BethINI к таким программам не относится, т.к. она не обращается к модам - только к INI-файлам. Если ты запустишь её из МО и попытаешься изменить инишники в текущем профиле, у тебя просто ничего не получится - настройки не будут сохраняться. TL;DR - сначала закрывай MO, потом запускай BethINI.

<b><p align="center">
⚡⚡⚡  
Пункты с 8 по 10 обычным игрокам не нужны.  
Выполни их только если ты точно знаешь, для чего они, и тебе это необходимо.
</p></b>

8) Запусти LOOT через МО и убедись, что в плагинах DLC полно "грязных записей".

    ![](../00_Resources/Alternative_Guide/005.png)

9) Чтобы исправить это, сделай следующее:
    + запусти TES5Edit через МО, выбери один Update.esm, дождись конца загрузки (Background Loader: finished).
    + в левой части ПКМ по Update.esm ➔ Apply Filter for Cleaning, дождись окончания операции.
    + снова ПКМ ➔ Remove "Identical to Master" records, подтверди изменения в файле.
    + снова ПКМ ➔ Undelete and Disable References.
    + закрой TES5Edit, сохранив изменённый Update.esm. По желанию можешь сохранить бэкап, поставь галку Backup plugins.
    + повтори эти операции для каждого плагина DLC, а для Dawnguard - 2 раза. Да, 2 раза, такая вот морока.
    + после всего в папке Overwrite MO у тебя появятся чистые плагины DLC и папка с бэкапами. Создай из них мод (ПКМ по Overwrite ➔ Create Mod), назови "Cleaned DLC" или как-то так. Помести его первым, а когда активируешь - не забудь снова про порядок загрузки.

10) Снова запусти LOOT и убедись, что теперь с плагинами всё в порядке.

    ![](../00_Resources/Alternative_Guide/006.png)

<b><p align="center">
Пункты с 8 по 10 обычным игрокам не нужны.  
Выполни их только если ты точно знаешь, для чего они, и тебе это необходимо.  
⚡⚡⚡
</p></b>

11) Теперь установка и настройка ENBoost. Настоящий маст-хэв, который необходим для разных операций в дальнейшем. Делай так:
    + скачай и установи [DirectX End-User Runtimes](https://www.microsoft.com/en-us/download/details.aspx?id=8109).
    + скачай последнюю версию [ENBSeries](http://enbdev.com/download_mod_tesskyrim.html).
    + в этом архиве открой папку WrapperVersion и возьми оттуда файлы d3d9.dll, enbhost.exe и enblocal.ini. Запихни их в корень игры, где лежит TESV.exe.

        > Если в будущем Wrapper будет неправильно работать (такое часто бывает у владельцев ноутбуков), следует использовать Injector. Из папки InjectorVersion возьми файлы ENBInjector.exe, enbinjector.ini и enbseries.dll, а из папки WrapperVersion - файлы enbhost.exe и enblocal.ini. При этом убери из папки игры файл d3d9.dll от Wrapper'а. В дальнейшем ты должен будешь запускать ENBInjector.exe перед каждым запуском игры и выключать его после выхода из игры.

    + открой enblocal.ini и поменяй значения:

        > UsePatchSpeedhackWithoutGraphics=true  
        > UseDefferedRendering=false  
        > ExpandSystemMemoryX64=false  
        > AutodetectVideoMemorySize=false

    + теперь очень важный момент: тебе нужно указать объём видеопамяти, который будет использовать игра. И ещё объём буфера. Это VideoMemorySizeMb и ReservedMemorySizeMb.
    + скачай [VRamSizeTest Tool](http://enbdev.com/download_vramsizetest.htm) и запусти вариант DX9.

        > Если у тебя есть и дискретная, и интегрированная видеокарты (от NVIDIA и от Intel, например), то по умолчанию утилита может использовать интегрированную и покажет неверное значение. Убедись, что запускаешь VRamSizeTest, используя свою "игровую" видеокарту.

    + если ты пользователь Win7, отними от полученного значения 170 и запиши результат в VideoMemorySizeMb. Если Win8 или Win10, то запиши как есть.
    + ReservedMemorySizeMb определяется не так просто. Начни со 128, а если во время игры будут "заикания" - подними, но не сильно. Значение может быть кратно 128.
    + По желанию можешь включить вертикальную синхронизацию: EnableVSync=true, VSyncSkipNumFrames=0. Но некоторые говорят, что лучше через настройки драйвера.
    + По желанию можешь включить оконный режим: ForceBorderless=true, ForceBorderlessFullscreen=true. Это очень даже рекомендуется, т.к. фиксит Alt+Tab.
    + Если ты умный и в целом хочешь знать, что делаешь, то читай описание каждой функции в [этой статье](http://tesall.ru/topic/19670-nastroyka-i-razbor-funkciy-enblocal-ini/).

12) Теперь установка SKSE. Очень важная штука, которая требуется для огромной кучи модов.
    + Для начала закрой МО.
    + Затем скачай архив по [этой ссылке](http://skse.silverlock.org/beta/skse_1_07_03.7z), открой его и возьми 3 файла:

        > skse_steam_loader.dll  
        > skse_loader.exe  
        > skse_1_9_32.dll

        Запихни их в папку с игрой, где лежит TESV.exe.
    + Теперь снова запусти МО и убедись, что в его списке исполняемых файлов появился SKSE.
    + Затем тебе надо установить некоторые файлы SKSE через МО как обычный мод. Для МО этот архив не совсем правильный, но это фиксится установкой папки Data как Data.

        ![](../00_Resources/Alternative_Guide/007.png)

13) Довольно важный бонус SKSE - это файл SKSE.ini. Скачай его [отсюда](http://www.nexusmods.com/skyrim/mods/51038/?) (выбери обычную версию) и поставь через МО. Файл должен выглядеть [вот так](../00_Resources/04_Содержимое_SKSE.ini.md).

14) Помимо всего этого, в аргументах к SKSE в МО нужно прописать -forcesteamloader. Это необходимо в любом случае, даже для пираток.

    ![](../00_Resources/Alternative_Guide/008.png)

15) С недавних пор бессмертный мод для Скайрима - Crash Fixes. Главное его достоинство в том, что он изменяет механизм использования памяти игрой. Штука настолько хитрая, насколько и полезная.
    + скачай [SKSE Plugin Preloader](http://www.nexusmods.com/skyrim/mods/75795/?) и закинь файл d3dx9_42.dll из его архива в корень игры, где лежит TESV.exe.
    + скачай [Crash Fixes](http://www.nexusmods.com/skyrim/mods/72725/?) и установи его через МО.
    + открой редактор INI Crash Fixes (двойной клик по моду, вкладка INI-Files).

        ![](../00_Resources/Alternative_Guide/009.png)

    + поставь значения UseOSAllocators=1 и AlignHeapAllocate=1.

16) Ещё один бессмертный мод - Unofficial Skyrim Legendary Edition Patch или USLEEP. Неофициальный патч, который исправляет многие баги. Для английских игроков версия [здесь](http://www.nexusmods.com/skyrim/mods/71214/?), для русских можно взять на [GamerMods](http://gamer-mods.ru/load/tes_v_skyrim/patchi/usleep/46-1-0-3573).

17) Если ты собираешься играть с официальным паком текстур от Беседки, в дополнение к USLEEP тебе также требуется [Unofficial High Resolution Patch](http://www.nexusmods.com/skyrim/mods/31255/?).

18) Для экономии места в своём списке плагинов можешь отключить esp-файлы текстур-пака и патча к нему. Они пустышки, а МО отлично управляет bsa-архивами и без них.

19) Убедись, что у тебя всё выглядит примерно так (если ты не выполнял пункты с 8 по 10, то вместо Cleaned DLC у тебя просто будут указаны дополнения в порядке Dawnguard-Hearthfire-Dragonborn, это нормально).

    ![](../00_Resources/Alternative_Guide/010.png)

    И затем можешь создать ярлык SKSE у себя на рабочем столе, например. Для этого прямо под кнопкой Run есть Shortcut.

## <a name="StartGame"></a> Запуск игры

1) Если ты создал ярлык из предыдущего пункта, запускай игру только через него. Если нет, то через МО и только SKSE.

2) Если всё нормально, повозка едет, а конокрад ссытся под себя, то можешь выйти из игры и начать накатывать моды. Не забывай читать описания, думать головой и ставить их только через МО.

## <a name="GoodTips"></a> Полезные советы

1) Когда у тебя будет достаточно модов, МО может начать ругаться на неправильный их порядок в **ЛЕВОМ** списке. Он предложит тебе пофиксить это, но ты не должен соглашаться, лучше просто отключи это назойливое напоминание.

    ![](../00_Resources/Alternative_Guide/011.png)

2) Движок игры сбоит при FPS больше 60, поэтому последний нужно ограничить. Можешь сделать это, включив вертикальную синхронизацию в панели управления видеокарты, а можешь использовать сторонний софт - что даст лучший результат, то и используй.

------

|[*Назад к оглавлению*](../01_Оглавление.md)|
|:---:|
